<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dashboard - ModelMarket.AI</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <link rel="stylesheet" href=".\styles\styles.css">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/lucide@0.263.0/dist/umd/lucide.min.js"></script>
</head>
<body class="bg-gray-50 dark:bg-gray-900">
  <div class="dashboard-container">
    <!-- Navigation Bar -->
    <nav class="dashboard-nav">
      <div class="dashboard-nav-container">
        <div class="dashboard-nav-logo">
          <a href="/" class="no-underline text-inherit">
            <span class="logo-text">ModelMarket</span><span class="logo-purple">.AI</span>
          </a>
        </div>
        <div class="dashboard-nav-links">
          <a href="#models" class="dashboard-nav-link active">Models</a>
          <a href="/dashboard/uploadmodel" class="dashboard-nav-link">Publish Model</a>
        </div>
        
        <!-- New container for search, user avatar and logout -->
        <div class="dashboard-nav-right" style="display: flex; align-items: center; gap: 20px;">
          <div class="dashboard-search">
            <div class="search-icon">
              <i data-lucide="search" class="h-5 w-5"></i>
            </div>
            <input type="text" placeholder="Search Models" class="dashboard-search-input" id="modelSearch">
          </div>
          
          <a href="/profile" class="user-avatar-button" title="View Profile">
            <img src="https://images.unsplash.com/photo-1535268647677-300dbf3d78d1" alt="User Profile" class="avatar-image">
          </a>
          
          <form action="/auth/logout" method="POST">
            <button type="submit" class="button-primary">Logout</button>
          </form>
        </div>
      </div>
    </nav>

    <!-- Main Content -->
    <main class="dashboard-main">
      <h1 class="dashboard-title">Your Popular Uploaded Models</h1>
      
      <!-- Models Grid -->
      <div class="dashboard-models-grid" id="modelsGrid">
        <!-- Model cards will be dynamically populated here -->
      </div>
    </main>
  </div>

  <script>
    // Initialize Lucide icons
    document.addEventListener('DOMContentLoaded', () => {
      lucide.createIcons();
    });
    
    // Sample model data
    const models = [
      {
        id: 1,
        provider: "IBM",
        name: "IBM Data Science",
        description: "Professional Certificate",
        courseLink: "Build toward a degree",
        image: "https://images.unsplash.com/photo-1618160702438-9b02ab6515c9",
        configUrl: "/model-config?id=1"
      },
      {
        id: 2,
        provider: "DeepLearning.AI",
        name: "Deep Learning",
        description: "Specialization",
        courseLink: "Build toward a degree",
        image: "https://images.unsplash.com/photo-1582562124811-c09040d0a901",
        configUrl: "/model-config?id=2"
      },
      {
        id: 3,
        provider: "IBM",
        name: "IBM AI Engineering",
        description: "Professional Certificate",
        courseLink: "Build toward a degree",
        image: "https://images.unsplash.com/photo-1535268647677-300dbf3d78d1",
        configUrl: "/model-config?id=3"
      },
      {
        id: 4,
        provider: "IBM",
        name: "IBM Generative AI Engineering",
        description: "Professional Certificate",
        courseLink: "Build toward a degree",
        image: "https://images.unsplash.com/photo-1535268647677-300dbf3d78d1",
        configUrl: "/model-config?id=4"
      }
    ];

    // Render model cards
    function renderModelCards() {
      const grid = document.getElementById('modelsGrid');
      grid.innerHTML = '';

      const filteredModels = filterModels();
      
      filteredModels.forEach(model => {
        const card = document.createElement('div');
        card.className = 'dashboard-model-card';
        
        card.innerHTML = `
          <div class="dashboard-model-image">
            <img src="${model.image}" alt="${model.name}">
          </div>
          <div class="dashboard-model-content">
            <p class="dashboard-model-provider">${model.provider}</p>
            <h3 class="dashboard-model-title">${model.name}</h3>
            <p class="dashboard-model-description">${model.description}</p>
            <div class="dashboard-model-actions">
              <a href="${model.configUrl}" class="dashboard-model-link">Configure</a>
              <a href="#" class="dashboard-model-link">${model.courseLink}</a>
            </div>
          </div>
        `;
        
        grid.appendChild(card);
      });
    }

    // Filter models based on search input
    function filterModels() {
      const searchTerm = document.getElementById('modelSearch').value.toLowerCase();
      return models.filter(model => 
        model.name.toLowerCase().includes(searchTerm) ||
        model.provider.toLowerCase().includes(searchTerm)
      );
    }

    // Initialize the dashboard
    document.addEventListener('DOMContentLoaded', () => {
      renderModelCards();
      
      // Add search functionality
      document.getElementById('modelSearch').addEventListener('input', renderModelCards);
    });
  </script>
</body>
</html>